<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de" lang="de">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
     <title>Formel 0 - Registrieren</title>
     <link rel="stylesheet" type="text/css" href=b"./styles/screen.css" />
     <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
     <meta name="description" content="Ein Formular zum Registrieren auf der Formel 0 Seite" />
     <meta name="keywords" content="Formel 0" />
     <meta name="language" content="de-AT" />
     <!-- JQuery -->
     <script type="text/javascript" src="./js/jquery.js"></script>
 </head>
 <body>
 	<div id="header">
    	
        <div id="banner">
            <div class="left"></div>
            <div class="right"></div>
        </div>
        
        	<div id="navbar">
            	<ul>
                	<li>
                    	<a href="register.html">| Einloggen </a>
                    </li>                    
          
                </ul>
			</div> <!-- navbar -->
        
    </div> <!-- header -->
    <div id="main">
     <div id="register">
        <h1>Registrieren</h1>
        <p>Bitte füllen Sie das unten stehende Formular aus!</p>
        <form action="register" method="post" id="registrationform">
            <h2>Persönliche Daten</h2>
            
            <div class="row">
                <label for="forename">Vorname</label>
                <input type="text" id="forename" name="forename" />
            </div>
            <div class="row">
                <p>
                  <label for="lastname">Nachname</label>
                  <input type="text" id="lastname" name="lastname" />
                </p>
            </div>
            <div class="row">
                <label for="dob">Geburtsdatum</label>
                <input type="text" id="dob" name="dob" />
                <span id="dobvalidation"></span>
            </div>
            <div class="row">
                <label for="sex">Geschlecht</label>
                <select name="sex" id="sex">
                    <option selected="selected">weiblich</option>
                    <option>männlich</option>
                </select>
            </div>
            <br />
			<h2>Login Daten</h2>
            
            <div class="row">
                <label for="user">Benutzer</label>
                <input type="text" id="user" name="user" />
                <span id="uservalidation"></span>
            </div>
            <div class="row">
                <label for="pass">Passwort</label>
                <input type="password" id="pass" name="pass" /> 
                <span id="passvalidation"></span>
            </div>
            
            <div class="row">
            <input type="submit" id="sub" disabled="disabled" value="Registrieren"/>  
            </div>
       		
        </form>
     </div> <!-- register -->
    </div> <!-- main -->
    <div id="footer">
    	<p>&copy; 2013 Formel 0</p>
    </div>
    <!-- footer -->

    <script type="text/javascript">
      //<![CDATA[
      var dob = $("#registrationform :input[name='dob']");
      var user = $("#registrationform :input[name='user']");
      var pass = $("#registrationform :input[name='pass']");
      var doberror = false;
      var usererror = true;
      var passerror = true;
      var submitbutton = $("#registrationform :input[type='submit']");

      var checkInput = function() {
        if(!doberror && !usererror && !passerror) {
          submitbutton.removeAttr('disabled');
        } else {
          submitbutton.attr('disabled','disabled');
        }
      }

      $(document).ready(function(){
        
        //input validation
        dob.keyup(function() {
          var value = dob.val();
          var length = value.length;
          if(value.match(/^\d\d?\.\d\d?\.\d\d\d\d$/) || length == 0) {
            dob.css("background-color","white");
            $("#dobvalidation").text('');
            doberror = false;
          } else {
            dob.css("background-color","red");
            $("#dobvalidation").text(' Das Geburtsdatum muss in der Form DD.MM.YYYY vorliegen').css("color","red");
            doberror = true;
          }
          checkInput();
        });
        user.keyup(function() {
          var value = user.val();
          var length = value.length;
          if(length>=4 && length<=8) {
            user.css("background-color","white");
            $("#uservalidation").text(' Gueltiger Username').css("color","green");
            usererror = false;
          } else {
            user.css("background-color","red");
            $("#uservalidation").text(' Der Name muss zwischen 4 und 8 Buchstaben enthalten').css("color","red");
            usererror = true;
          }
          checkInput();
        });
        pass.keyup(function() {
          var value = pass.val();
          var length = value.length;
          if(length>=4 && length<=8) {
            pass.css("background-color","white");
            $("#passvalidation").text(' Gueltiges Passwort').css("color","green");
            passerror = false;
          } else {
            pass.css("background-color","red");
            $("#passvalidation").text(' Das Passwort muss zwischen 4 und 8 Buchstaben enthalten').css("color","red");
            passerror = true;
          }
          checkInput();
        });
      });
      //]]>
    </script>
 </body>
</html>